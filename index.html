<html>
<head>
	<title>Keyboard inputs in JavaScript</title>
</head>
<body>   
    <script>	
			var Keyboard = {};
			Keyboard.pressedKeys = [];
			Keyboard.allowedKeys = [65, 68, 83, 87];  // process only WASD-keys

			document.onkeydown = processKeyDownEvent;
			document.onkeyup = processKeyUpEvent;

			function processKeyDownEvent(e){
				if(!Keyboard.pressedKeys[e.which] && isAllowedKey(e.which) ){
					Keyboard.pressedKeys[e.which] = 1;
					sendInputsToServer(e);
				}
			}

			function processKeyUpEvent(e){
				if(isAllowedKey(e.which) ){
					Keyboard.pressedKeys[e.which] = 0;
					sendInputsToServer(e);
				}
			}
			
			function isAllowedKey(key){
				if(Keyboard.allowedKeys.indexOf(key) != -1){
				 return true;
				}
				return false;
			}

			function  sendInputsToServer(e){                
				var c = String.fromCharCode(e.which);
				console.log('sending these keys to server: ', Keyboard.pressedKeys);
			}        
    </script>
</body>
</html>


